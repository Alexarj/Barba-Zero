<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Admin - Barba Zero</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#000;color:#fff;}
header{padding:20px;text-align:center;font-size:28px;font-weight:bold;}
table{width:90%;margin:auto;background:#111;color:#fff;border-collapse:collapse;margin-top:20px;}
th,td{padding:15px;text-align:center;border:1px solid #333;}
button{padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer;background:#fff;color:#000;font-weight:bold;transition:.3s;}
button:hover{background:#ddd;}
</style>
</head>
<body>
<header>Dashboard Admin</header>
<table>
<tr>
    <th>Salão</th>
    <th>Status Assinatura</th>
    <th>Plano Expira</th>
    <th>Ação</th>
</tr>
<tbody id="tabelaSalao"></tbody>
</table>

<script>
// Lista de salões (exemplo)
const saloes = [
    {nome:'Barbearia Exemplo', status:'Pendente', expira:'2026-02-02'},
    {nome:'Barbearia Teste', status:'Ativo', expira:'2026-03-05'}
];

// Calcula dias restantes
function diasRestantes(expira){
    const hoje = new Date();
    const dataExpira = new Date(expira);
    const diffTime = dataExpira - hoje;
    return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
}

// Atualiza tabela
function atualizarTabela(){
    const tbody = document.getElementById('tabelaSalao');
    tbody.innerHTML = '';
    saloes.forEach((salao,index)=>{
        const dias = diasRestantes(salao.expira);
        const aviso = (dias<=2 && salao.status==='Ativo') ? ' - Avisar renovação' : '';

        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${salao.nome}</td>
            <td>${salao.status}${aviso}</td>
            <td>${salao.expira} (${dias} dias restantes)</td>
            <td>${salao.status==='Pendente' ? '<button onclick="confirmarPagamento('+index+')">Confirmar</button>' : '—'}</td>
        `;
        tbody.appendChild(tr);
    });
}

// Confirma pagamento
function confirmarPagamento(index){
    saloes[index].status='Ativo';
    alert(`Pagamento confirmado para: ${saloes[index].nome}`);
    atualizarTabela();
}

// Inicializa tabela
atualizarTabela();
</script>
</body>
</html>
